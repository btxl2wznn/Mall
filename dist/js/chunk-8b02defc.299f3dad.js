(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b02defc"],{1107:function(t,e,s){"use strict";var a=s("9a75"),i=s.n(a);i.a},1148:function(t,e,s){"use strict";var a=s("a691"),i=s("1d80");t.exports="".repeat||function(t){var e=String(i(this)),s="",n=a(t);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(s+=e);return s}},"159b":function(t,e,s){var a=s("da84"),i=s("fdbc"),n=s("17c2"),r=s("9112");for(var o in i){var c=a[o],l=c&&c.prototype;if(l&&l.forEach!==n)try{r(l,"forEach",n)}catch(f){l.forEach=n}}},"17c2":function(t,e,s){"use strict";var a=s("b727").forEach,i=s("a640"),n=s("ae40"),r=i("forEach"),o=n("forEach");t.exports=r&&o?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,s){var a=s("d039"),i=s("b622"),n=s("2d00"),r=i("species");t.exports=function(t){return n>=51||!a((function(){var e=[],s=e.constructor={};return s[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e08":function(t,e,s){"use strict";var a=s("500c"),i=s.n(a);i.a},3068:function(t,e,s){t.exports=s.p+"img/客服.4525af0a.svg"},"3b32":function(t,e,s){"use strict";var a=s("fd44"),i=s.n(a);i.a},"3f71":function(t,e,s){t.exports=s.p+"img/详情收藏.8a258439.svg"},"408a":function(t,e,s){var a=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,s){"use strict";var a=s("23e7"),i=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},4315:function(t,e,s){},"45c2":function(t,e,s){"use strict";var a=s("4315"),i=s.n(a);i.a},"46e9":function(t,e,s){},4743:function(t,e,s){t.exports=s.p+"img/back.5e6173cb.svg"},"4de4":function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").filter,n=s("1dde"),r=s("ae40"),o=n("filter"),c=r("filter");a({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"500c":function(t,e,s){},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");var a=s("ade3");function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},"6ab7":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("detail-nav-bar",{ref:"navBar",staticClass:"detailNav",attrs:{currentIndex:t.currentIndex},on:{itemClick:t.itemClick}}),s("detail-scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,cilck:!0,"pull-upLoad":!0},on:{scroll:t.contentScroll}},[s("detail-swiper",{attrs:{images:t.topImages}}),s("detail-base-info",{attrs:{goods:t.goods}}),s("detail-shop-info",{attrs:{shop:t.shop}}),s("detail-goods-info",{attrs:{"detail-info":t.detailInfo},on:{imageLoad:t.imgLoad}}),s("detail-param-info",{ref:"param",attrs:{paramInfo:t.paramInfo}}),s("detail-rate",{ref:"rate",attrs:{rate:t.rate},on:{imageLoad:t.imgLoad}}),s("goods-list",{ref:"recommend",staticClass:"recommend",attrs:{goods:t.recommend}})],1),s("detail-bottom-bar",{on:{addToCart:t.addToCart}}),s("toast",{ref:"toast"})],1)},i=[],n=(s("a9e3"),s("5530")),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Swiper",{staticClass:"detail-swiper"},t._l(t.images,(function(t,e){return s("swiper-item",{key:e},[s("img",{attrs:{src:t,alt:""}})])})),1)},o=[],c=s("ace8"),l=s("09fc"),f={name:"DetailSwiper",props:{images:{type:Array,default:function(){return[]}}},components:{Swiper:c["a"],SwiperItem:l["a"]}},d=f,u=(s("45c2"),s("2877")),m=Object(u["a"])(d,r,o,!1,null,"575452f4",null),p=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goods).length?s("div",{attrs:{clas:"base-info"}},[s("div",{staticClass:"info-title"},[t._v(t._s(t.goods.title))]),s("div",{staticClass:"info-price"},[s("span",{staticClass:"n-price"},[t._v(t._s(t.goods.newPrice))]),s("span",{staticClass:"o-price"},[t._v(t._s(t.goods.oldPrice))]),t.goods.discount?s("span",{staticClass:"discount"},[t._v(t._s(t.goods.discount))]):t._e()]),s("div",{staticClass:"info-other"},[s("span",[t._v(t._s(t.goods.columns[0]))]),s("span",[t._v(t._s(t.goods.columns[1]))]),s("span",[t._v(t._s(t.goods.services[t.goods.services.length-1].name))])]),s("div",{staticClass:"info-service"},t._l(t.goods.services,(function(e,a){return s("span",{key:a,staticClass:"info-service-item"},[s("img",{attrs:{src:e.icon}}),s("span",[t._v(t._s(e.name))])])})),0)]):t._e()},v=[],g={name:"DetailBaseInfo",props:{goods:{type:Object}}},b=g,_=(s("dfad"),Object(u["a"])(b,h,v,!1,null,"4fcd3de1",null)),C=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-top"},[s("img",{attrs:{src:t.shop.logo}}),s("span",{staticClass:"title"},[t._v(t._s(t.shop.name))])]),s("div",{staticClass:"shop-middle"},[s("div",{staticClass:"shop-middle-item shop-middle-left"},[s("div",{staticClass:"info-sells"},[s("div",{staticClass:"sells-count"},[t._v(" "+t._s(t._f("sellCountFilter")(t.shop.sells))+" ")]),s("div",{staticClass:"sells-text"},[t._v("总销量")])]),s("div",{staticClass:"info-goods"},[s("div",{staticClass:"goods-count"},[t._v(" "+t._s(t.shop.goodsCount)+" ")]),s("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-middle-item shop-middle-right"},[s("table",t._l(t.shop.score,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(t._s(e.score))]),s("td",{staticClass:"better",class:{"better-more":e.isBetter}},[s("span",[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),t._m(0)])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-bottom"},[s("div",{staticClass:"enter-shop"},[t._v("进店逛逛")])])}],w=(s("b680"),{name:"DetailShopInfo",props:{shop:{type:Object}},filters:{sellCountFilter:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}}),O=w,k=(s("3b32"),Object(u["a"])(O,y,I,!1,null,"1d8c6495",null)),x=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav-bar",[a("div",{attrs:{slot:"left"},slot:"left"},[a("img",{staticClass:"back",attrs:{src:s("4743"),alt:""},on:{click:t.backHome}})]),a("div",{staticClass:"titles",attrs:{slot:"center"},slot:"center"},t._l(t.titles,(function(e,s){return a("div",{key:s,staticClass:"titles-item",class:{active:s==t.currentIndex},on:{click:function(e){return t.itemClick(s)}}},[t._v(t._s(e))])})),0)])},T=[],$=s("cab2"),D={name:"DetailNavBar",data:function(){return{currentIndex:0,titles:["商品","详情","评价","推荐"]}},components:{navBar:$["default"]},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("itemClick",t)},backHome:function(){this.$router.back()}}},E=D,P=(s("1107"),Object(u["a"])(E,j,T,!1,null,"686b6613",null)),L=P.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.detailInfo).length?s("div",{staticClass:"detail-goodsinfo"},[s("div",{staticClass:"info-desc"},[s("div",{staticClass:"start"}),s("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),s("div",{staticClass:"end"})]),s("div",{staticClass:"info-key"},[s("div",[t._v(t._s(t.detailInfo.detailImage[0].key))])]),s("div",{staticClass:"info-list"},t._l(t.detailInfo.detailImage[0].list,(function(e,a){return s("img",{key:a,attrs:{src:e,alt:""},on:{load:t.imgLoad}})})),0)]):t._e()},B=[],F={name:"DetailGoodsInfo",data:function(){return{counter:0,imagesLenfth:0}},props:{detailInfo:{type:Object}},methods:{imgLoad:function(){++this.counter==this.imagesLength&&this.$emit("imageLoad")}},watch:{detailInfo:function(){this.imagesLength=this.detailInfo.detailImage[0].list.length}}},N=F,R=(s("ad81"),Object(u["a"])(N,S,B,!1,null,"3a8910bc",null)),A=R.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.paramInfo).length?s("div",{staticClass:"param-info"},[t._l(t.paramInfo.sizes,(function(e,a){return s("table",{key:a,staticClass:"info-size"},t._l(e,(function(e,a){return s("tr",{key:a},t._l(e,(function(e,a){return s("td",{key:a},[t._v(t._s(e))])})),0)})),0)})),s("table",{staticClass:"info-param"},t._l(t.paramInfo.infos,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"info-param-key"},[t._v(t._s(e.key))]),s("td",{staticClass:"param-value"},[t._v(t._s(e.value))])])})),0),0!==t.paramInfo.image.length?s("div",{staticClass:"info-img"},[s("img",{attrs:{src:t.paramInfo.image,alt:""}})]):t._e()],2):t._e()},M=[],z={name:"DetailParamInfo",props:{paramInfo:{type:Object}}},Y=z,H=(s("7a09"),Object(u["a"])(Y,G,M,!1,null,"60558d54",null)),J=H.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.rate).length?s("div",{staticClass:"det-rate"},[s("div",{staticClass:"rate-nav"},[s("span",[t._v("用户评价")]),s("span",{staticClass:"c-rate"},[t._v(t._s(t.rate.cRate))]),s("span",{staticClass:"more"},[t._v("更多")])]),t._l(t.rate.list,(function(e,a){return s("div",{key:a,staticClass:"user-rate"},[s("img",{staticClass:"avatar",attrs:{src:e.user.avatar,alt:""}}),s("span",{staticClass:"uname"},[t._v(t._s(e.user.uname))]),s("div",{staticClass:"rate-content"},[s("p",[t._v(t._s(e.content))]),s("span",[t._v(t._s(t._f("showDate")(e.created)))]),s("span",{staticClass:"userStyle"},[t._v(t._s(e.style))]),s("div",{staticClass:"rate-img"},t._l(e.images,(function(e,a){return s("img",{key:a,attrs:{src:e,alt:""},on:{load:t.imgLoad}})})),0)])])}))],2):t._e()},U=[],V=s("90b9"),W={name:"DetailRate",props:{rate:{type:Object}},filters:{showDate:function(t){var e=new Date(1e3*t);return Object(V["b"])(e,"yyyy-MM-dd")}},methods:{imgLoad:function(){var t=this;setTimeout((function(){t.$emit("imgLoad")}),500)}}},X=W,K=(s("7cc9"),Object(u["a"])(X,q,U,!1,null,"5a3ab2c8",null)),Q=K.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-bar"},[t._m(0),s("div",{staticClass:"bar-item bar-right"},[s("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),s("div",{staticClass:"buy"},[t._v("购买")])])])},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bar-item bar-left"},[a("div",{staticClass:"item"},[a("img",{attrs:{src:s("3068"),alt:""}}),a("span",{staticClass:"text"},[t._v(" 客服")])]),a("div",{staticClass:"item"},[a("img",{attrs:{src:s("7584"),alt:""}}),a("span",{staticClass:"text"},[t._v("店铺")])]),a("div",{staticClass:"item"},[a("img",{attrs:{src:s("3f71"),alt:""}}),a("span",{staticClass:"text"},[t._v("收藏")])])])}],et={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addToCart")}}},st=et,at=(s("1e08"),Object(u["a"])(st,Z,tt,!1,null,"368d4e0b",null)),it=at.exports;s("b0c0");function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rt=s("1bab");function ot(t){return Object(rt["a"])({url:"/detail",params:{iid:t}})}function ct(){return Object(rt["a"])({url:"/recommend"})}var lt=function t(e,s,a){nt(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discount=e.discountDesc,this.columns=s,this.services=a,this.realPrice=e.lowNowPrice},ft=function t(e,s){nt(this,t),this.image=e.images?e.images[0]:"",this.infos=e.set,this.sizes=s.tables},dt=function t(e){nt(this,t),this.logo=e.shopLogo,this.name=e.name,this.fans=e.cFans,this.sells=e.cSells,this.score=e.score,this.goodsCount=e.cGoods},ut=function t(e){nt(this,t),this.cRate=e.cRate,this.list=e.list},mt=s("5d17"),pt=s("1585"),ht=s("eecb"),vt=s("2f62"),gt=s("4897"),bt={name:"detail",data:function(){return{iid:null,topImages:[],goods:{},shop:{},detailInfo:{},paramInfo:{},rate:{},recommend:[],themeTops:[],getThemeTopY:null,currentIndex:0}},components:{DetailSwiper:p,DetailBaseInfo:C,DetailShopInfo:x,DetailNavBar:L,DetailScroll:mt["a"],DetailGoodsInfo:A,DetailParamInfo:J,DetailRate:Q,GoodsList:pt["a"],DetailBottomBar:it,Toast:gt["a"]},mixins:[ht["a"]],created:function(){var t=this;this.iid=this.$route.query.iid,ot(this.iid).then((function(e){var s=e.data.result;t.topImages=s.itemInfo.topImages,t.goods=new lt(s.itemInfo,s.columns,s.shopInfo.services),t.shop=new dt(s.shopInfo),console.log(t.goods),t.detailInfo=s.detailInfo,t.paramInfo=new ft(s.itemParams.info,s.itemParams.rule),t.rate=new ut(s.rate)})),ct().then((function(e){t.recommend=e.data.data.list})),this.getThemeTopY=Object(V["a"])((function(){t.themeTops=[],t.themeTops.push(0),t.themeTops.push(t.$refs.param.$el.offsetTop),t.themeTops.push(t.$refs.rate.$el.offsetTop),t.themeTops.push(t.$refs.recommend.$el.offsetTop),t.themeTops.push(Number.MAX_VALUE)}),100)},mounted:function(){},deactivated:function(){this.$bus.$off("imgLoad",this.ItemImgListener)},methods:Object(n["a"])({},Object(vt["b"])(["addCart"]),{imgLoad:function(){this.$refs.scroll.refresh(),this.getThemeTopY()},itemClick:function(t){this.$refs.scroll.scroll.scrollTo(0,-this.themeTops[t],300)},contentScroll:function(t){for(var e=-t.y,s=this.themeTops.length,a=0;a<s-1;a++)if(this.currentIndex!=a&&e>=this.themeTops[a]&&e<=this.themeTops[a+1]){this.currentIndex=a,this.$refs.navBar.currentIndex=a;break}},addToCart:function(){var t=this,e={};e.image=this.topImages[0],e.title=this.goods.title,e.desc=this.goods.desc,e.price=this.goods.realPrice,e.iid=this.iid,e.iid&&this.addCart(e).then((function(e){t.$toast({message:"加入购物车成功"})}))}})},_t=bt,Ct=(s("fd60"),Object(u["a"])(_t,a,i,!1,null,"c6946cc2",null));e["default"]=Ct.exports},7584:function(t,e,s){t.exports=s.p+"img/店铺.31f952be.svg"},"7a09":function(t,e,s){"use strict";var a=s("cb74"),i=s.n(a);i.a},"7cc9":function(t,e,s){"use strict";var a=s("b3e2"),i=s.n(a);i.a},"9a75":function(t,e,s){},ad81:function(t,e,s){"use strict";var a=s("c8c0"),i=s.n(a);i.a},b0c0:function(t,e,s){var a=s("83ab"),i=s("9bf2").f,n=Function.prototype,r=n.toString,o=/^\s*function ([^ (]*)/,c="name";a&&!(c in n)&&i(n,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b3e2:function(t,e,s){},b64b:function(t,e,s){var a=s("23e7"),i=s("7b0b"),n=s("df75"),r=s("d039"),o=r((function(){n(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(t){return n(i(t))}})},b680:function(t,e,s){"use strict";var a=s("23e7"),i=s("a691"),n=s("408a"),r=s("1148"),o=s("d039"),c=1..toFixed,l=Math.floor,f=function(t,e,s){return 0===e?s:e%2===1?f(t,e-1,s*t):f(t*t,e/2,s)},d=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},u=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));a({target:"Number",proto:!0,forced:u},{toFixed:function(t){var e,s,a,o,c=n(this),u=i(t),m=[0,0,0,0,0,0],p="",h="0",v=function(t,e){var s=-1,a=e;while(++s<6)a+=t*m[s],m[s]=a%1e7,a=l(a/1e7)},g=function(t){var e=6,s=0;while(--e>=0)s+=m[e],m[e]=l(s/t),s=s%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var s=String(m[t]);e=""===e?s:e+r.call("0",7-s.length)+s}return e};if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=d(c*f(2,69,1))-69,s=e<0?c*f(2,-e,1):c/f(2,e,1),s*=4503599627370496,e=52-e,e>0){v(0,s),a=u;while(a>=7)v(1e7,0),a-=7;v(f(10,a,1),0),a=e-1;while(a>=23)g(1<<23),a-=23;g(1<<a),v(1,1),g(2),h=b()}else v(0,s),v(1<<-e,0),h=b()+r.call("0",u);return u>0?(o=h.length,h=p+(o<=u?"0."+r.call("0",u-o)+h:h.slice(0,o-u)+"."+h.slice(o-u))):h=p+h,h}})},bcd5:function(t,e,s){},c8c0:function(t,e,s){},cb74:function(t,e,s){},dbb4:function(t,e,s){var a=s("23e7"),i=s("83ab"),n=s("56ef"),r=s("fc6a"),o=s("06cf"),c=s("8418");a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,s,a=r(t),i=o.f,l=n(a),f={},d=0;while(l.length>d)s=i(a,e=l[d++]),void 0!==s&&c(f,e,s);return f}})},dfad:function(t,e,s){"use strict";var a=s("bcd5"),i=s.n(a);i.a},e439:function(t,e,s){var a=s("23e7"),i=s("d039"),n=s("fc6a"),r=s("06cf").f,o=s("83ab"),c=i((function(){r(1)})),l=!o||c;a({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})},fd44:function(t,e,s){},fd60:function(t,e,s){"use strict";var a=s("46e9"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-8b02defc.299f3dad.js.map